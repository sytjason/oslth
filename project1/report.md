# OS Project 1 Report
 組員: 

# 設計

## 概念

程式的架構分為初始化、排班模擬程式兩個部分，設計概念是模擬作業系統使用 Ready Queue 的方式，在 Ready Queue 中記錄行程的 PCB， 然後再根據排班演算法，從 Ready Queue 中挑出下一個可以執行的行程。

## 初始化
1. 程式支援在命令列中將參數引入的功能
```c
main(int argc, char *argv[]) 
```
2. 從檔案讀入測試資料，並將資料存放於自訂結構 EasyPCB 中。
3. 呼叫排班模擬函式
```c
DoScheduling(pPcb, nTotalPcb, nPolicy)
```

## 排班模擬程式:
1. 建立環狀鏈結串列 (Circular Linked Lists) 模擬 round-robin 排班演算法，儲存等待執行的 Process 資訊 ( EasyPCB )。
2. 透過陣列模擬其它排班演算法。
# 執行範例測資的結果
**FIFO_1.txt**
> P1 3255
> P2 3256
> P3 3257
> P4 3258
> P5 3259

> dmesg:
> [project1] 3255 1555686917.944369336 1555686918.709452103
> [project1] 3256 1555686917.968235156 1555686919.470436417
> [project1] 3257 1555686917.964388339 1555686920.225313038
> [project1] 3258 1555686917.952446899 1555686920.969360933
> [project1] 3259 1555686917.948335335 1555686921.697268878

**FIFO_2.txt**
> P1 3275
> P2 3276
> P3 3277
> P4 3278

> dmesg:
> [project1] 3275 1555687150.468495240 1555687270.089741493
> [project1] 3276 1555687150.628109399 1555687277.492202174
> [project1] 3277 1555687150.777490385 1555687278.724941840
> [project1] 3278 1555687150.924858297 1555687279.437254401

**FIFO_3.txt**
>
> P1 3289
> P2 3290
> P3 3291
> P4 3292
> P5 3293
> P6 3294
> P7 3295

>
> dmesg:
> [project1] 3289 1555687348.150707360 1555687360.221017821
> [project1] 3290 1555687348.468581650 1555687367.697948345
> [project1] 3291 1555687348.616113519 1555687372.145569436
> [project1] 3292 1555687348.768501202 1555687373.609219069
> [project1] 3293 1555687348.928579983 1555687375.059805715
> [project1] 3294 1555687348.914119057 1555687376.508823781
> [project1] 3295 1555687349.073409524 1555687382.240373999

**FIFO_4.txt**
>
> P1 3300
> P2 3301
> P3 3302
> P4 3303

>
> dmesg:
> [project1] 3300 1555687444.768677433 1555687447.774290534
> [project1] 3301 1555687445.528151125 1555687448.521191467
> [project1] 3302 1555687445.533546500 1555687448.814308936
> [project1] 3303 1555687447.029005394 1555687449.547859940

**FIFO_5.txt**
>
> P1 3309
> P2 3310
> P3 3311
> P4 3312
> P5 3313
> P6 3314
> P7 3315

> dmesg:
> [project1] 3309 1555687533.288253900 1555687545.400975916
> [project1] 3310 1555687533.604491266 1555687552.895565856
> [project1] 3311 1555687533.608071041 1555687557.376341694
> [project1] 3312 1555687533.900597566 1555687558.808466688
> [project1] 3313 1555687533.904364566 1555687560.283147089
> [project1] 3314 1555687534.204601794 1555687561.716675551
> [project1] 3315 1555687534.190591313 1555687567.455075417

**PSJF_1.txt**
>
> P4 3341
> P3 3340
> P2 3339
> P1 3338

> dmesg:
> [project1] 3341 1555687826.852726141 1555687831.384701183
> [project1] 3340 1555687825.348449312 1555687837.431833189
> [project1] 3339 1555687823.851551672 1555687846.417618916
> [project1] 3338 1555687822.308301998 1555687859.807986757

**PSJF_2.txt**
>
> P2 3351
> P1 3350
> P4 3353
> P5 3354
> P3 3352

> dmesg:
> [project1] 3351 1555688020.104829945 1555688021.601445407
> [project1] 3350 1555688018.592324697 1555688024.596759749
> [project1] 3353 1555688026.100292355 1555688029.087119165
> [project1] 3354 1555688029.096249328 1555688030.576136763
> [project1] 3352 1555688021.613366085 1555688034.990737831

**PSJF_3.txt**
>
> P2 3362
> P3 3363
> P4 3364
> P1 3361

> dmesg:
> [project1] 3362 1555688130.848245812 1555688131.628828991
> [project1] 3363 1555688131.636435803 1555688132.396082389
> [project1] 3364 1555688132.420590748 1555688133.171910784
> [project1] 3361 1555688130.080698982 1555688135.338587492
 
**PSJF_4.txt**
>
> P3 3373
> P2 3372
> P4 3374
> P1 3371

> dmesg:
> [project1] 3373 1555688194.660362056 1555688196.159761517
> [project1] 3372 1555688194.496169727 1555688198.996036409
> [project1] 3374 1555688194.808142361 1555688204.926170942
> [project1] 3371 1555688194.492471209 1555688215.245235127

**PSJF_5.txt**
>
> P1 3380
> P3 3382
> P2 3381
> P4 3383
> P5 3384

> dmesg:
> [project1] 3380 1555688263.944488636 1555688264.094016350
> [project1] 3382 1555688264.105531961 1555688264.421580620
> [project1] 3381 1555688263.946871039 1555688270.414913144
> [project1] 3383 1555688264.108560724 1555688276.351124553
> [project1] 3384 1555688264.101040220 1555688286.690021214

**RR_1.txt**
>
> P1 3390
> P2 3391
> P3 3392
> P4 3393
> P5 3394

> dmesg:
> [project1] 3390 1555688405.548459203 1555688406.386032764
> [project1] 3391 1555688405.571571870 1555688407.225617275
> [project1] 3392 1555688405.564483577 1555688408.046761126
> [project1] 3393 1555688405.568967368 1555688408.879668768
> [project1] 3394 1555688405.551651970 1555688409.696538199

**RR_2.txt**
>
> P1 3406
> P2 3407

> dmesg:
> [project1] 3406 1555688504.442103328 1555688515.742678337
> [project1] 3407 1555688504.756431089 1555688517.914092602
 
**RR_3.txt**
>
> P3 3421
> P1 3419
> P2 3420
> P6 3424
> P5 3423
> P4 3422

> dmesg:
> [project1] 3421 1555688827.473032912 1555688849.150814627
> [project1] 3419 1555688823.876659014 1555688851.376188227
> [project1] 3420 1555688825.684323625 1555688852.126465630
> [project1] 3424 1555688830.744128565 1555688863.983254033
> [project1] 3423 1555688829.864123279 1555688866.960577766
> [project1] 3422 1555688829.258661047 1555688868.278790677

**RR_4.txt**
>
> P4 3434
> P5 3435
> P6 3436
> P3 3433
> P7 3437
> P2 3432
> P1 3431

> dmesg:
> [project1] 3434 1555688949.252858753 1555688956.846674002
> [project1] 3435 1555688949.404079396 1555688957.605915258
> [project1] 3436 1555688949.400397373 1555688958.372548598
> [project1] 3433 1555688949.106576157 1555688970.277048027
> [project1] 3437 1555688949.557786392 1555688976.216832855
> [project1] 3432 1555688948.964972564 1555688978.442553610
> [project1] 3431 1555688948.636262058 1555688982.795908685

**RR_5.txt**
>
> P4 3446
> P5 3447
> P6 3448
> P3 3445
> P7 3449
> P2 3444
> P1 3443

> dmesg:
> [project1] 3446 1555689065.061056253 1555689072.679775758
> [project1] 3447 1555689065.064874943 1555689073.412979765
> [project1] 3448 1555689065.392495735 1555689074.950648784
> [project1] 3445 1555689064.756691712 1555689086.169724286
> [project1] 3449 1555689065.396413308 1555689092.043586772
> [project1] 3444 1555689064.760330697 1555689094.296967280
> [project1] 3443 1555689064.448372451 1555689098.565651844

**SJF_1.txt**
>
> P2 3456
> P3 3457
> P4 3458
> P1 3455

> dmesg:
> [project1] 3456 1555689219.336610050 1555689222.543390149
> [project1] 3457 1555689219.500826186 1555689224.157109889
> [project1] 3458 1555689219.648604299 1555689230.531942896
> [project1] 3455 1555689219.357654144 1555689241.642511804

**SJF_2.txt**
>
> P1 3464
> P3 3466
> P2 3465
> P4 3467
> P5 3468

> dmesg:
> [project1] 3464 1555689317.316435901 1555689317.468459629
> [project1] 3466 1555689317.479334151 1555689317.791034274
> [project1] 3465 1555689317.317806835 1555689323.761672707
> [project1] 3467 1555689317.476144752 1555689329.708597289
> [project1] 3468 1555689317.474338177 1555689340.024884685

**SJF_3.txt**
>
> P1 3477
> P4 3480
> P5 3481
> P6 3482
> P7 3483
> P2 3478
> P3 3479
> P8 3484

> dmesg:
> [project1] 3477 1555689394.760733996 1555689399.315398042
> [project1] 3480 1555689394.916291438 1555689399.317064801
> [project1] 3481 1555689394.920218241 1555689399.317990144
> [project1] 3482 1555689395.068680801 1555689405.337788365
> [project1] 3483 1555689395.226305487 1555689411.304509831
> [project1] 3478 1555689394.776459098 1555689418.764721403
> [project1] 3479 1555689394.774506972 1555689429.097323987
> [project1] 3484 1555689395.361904513 1555689442.175925062

**SJF_4.txt**
>
> P1 3489
> P2 3490
> P3 3491
> P5 3493
> P4 3492

> dmesg:
> [project1] 3489 1555689525.020605253 1555689529.501932654
> [project1] 3490 1555689526.520188912 1555689530.990782621
> [project1] 3491 1555689528.008917968 1555689536.943706254
> [project1] 3493 1555689535.507930674 1555689538.462404302
> [project1] 3492 1555689532.520485597 1555689541.392045430

**SJF_5.txt**
>
> P1 3497
> P2 3498
> P3 3499
> P4 3500

> dmesg:
> [project1] 3497 1555689596.344186930 1555689599.356127731
> [project1] 3498 1555689597.108520635 1555689600.123800333
> [project1] 3499 1555689597.852482859 1555689600.875666971
> [project1] 3500 1555689598.613957834 1555689601.613100874



# 比較實際結果與理論結果
模擬行程 idle 的方式是降低其優先權至背景執行，而不是完全暫停該行程，所以會出現些許誤差的情況。

# 各組員的貢獻
1. 涂世昱: 加入system call並發佈至github。
2. 林宸慶: RR排班演算法。
3. 王啟時: 撰寫初版程式碼。

